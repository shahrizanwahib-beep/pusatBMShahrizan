<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pusat Pembelajaran Interaktif - Cikgu Shahrizan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .page { display: none; width: 100%; height: 100vh; }
        .page.active { display: flex; }
        .tool-container { width: 100%; height: 100%; display: flex; flex-direction: column; }
        .hub-card { transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .hub-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.98); }
          to { opacity: 1; transform: scale(1); }
        }
        .modal { animation: fadeIn 0.3s ease-out; }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Laman Utama (Hub) -->
    <div id="hub-page" class="page active flex-col items-center justify-center min-h-screen p-8">
        <h1 class="text-5xl font-black text-center text-blue-600">Pusat Pembelajaran Cikgu Shahrizan</h1>
        <p class="text-center text-gray-600 mt-4 text-xl">Sila pilih kelas anda.</p>
        
        <div class="grid md:grid-cols-3 lg:grid-cols-5 gap-8 mt-12 w-full max-w-7xl">
            <div data-target="year7-page" class="hub-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center">
                <div class="text-6xl mb-4">üéì</div>
                <h2 class="text-3xl font-bold text-gray-800">Year 7</h2>
                <p class="text-gray-500">(Advanced)</p>
            </div>
            <div data-target="year8-page" class="hub-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center">
                <div class="text-6xl mb-4">üå±</div>
                <h2 class="text-3xl font-bold text-gray-800">Year 8</h2>
                <p class="text-gray-500">(Foundation)</p>
            </div>
            <div data-target="year9-page" class="hub-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center">
                <div class="text-6xl mb-4">üåø</div>
                <h2 class="text-3xl font-bold text-gray-800">Year 9</h2>
                <p class="text-gray-500">(Foundation)</p>
            </div>
            <div data-target="year10-page" class="hub-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center">
                <div class="text-6xl mb-4">üìö</div>
                <h2 class="text-3xl font-bold text-gray-800">Year 10</h2>
                <p class="text-gray-500">(First Language)</p>
            </div>
            <div data-target="year11-page" class="hub-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center">
                <div class="text-6xl mb-4">‚úçÔ∏è</div>
                <h2 class="text-3xl font-bold text-gray-800">Year 11</h2>
                <p class="text-gray-500">(First Language)</p>
            </div>
        </div>
    </div>

    <!-- Halaman Indeks -->
    <div id="year7-page" class="page flex-col items-center justify-center min-h-screen p-8">
        <h2 class="text-4xl font-bold text-gray-800">Indeks Pelajaran: Year 7 (Advanced)</h2>
        <div class="mt-8 w-full max-w-md space-y-4">
            <button data-target="kata-nama-slides-page" class="w-full text-left p-4 bg-red-50 hover:bg-red-100 rounded-lg font-semibold text-red-800 text-xl">1. Slaid: Fokus Kata Nama</button>
            <button data-target="pengenalan-diri-page" class="w-full text-left p-4 bg-blue-50 hover:bg-blue-100 rounded-lg font-semibold text-blue-800 text-xl">2. Slaid: Pengenalan Diri</button>
            <button data-target="karangan-hari-keluarga-page" class="w-full text-left p-4 bg-green-50 hover:bg-green-100 rounded-lg font-semibold text-green-800 text-xl">3. Slaid: Menulis Karangan</button>
        </div>
        <button data-target="hub-page" class="mt-8 bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Menu Utama</button>
    </div>
    <div id="year8-page" class="page flex-col items-center justify-center min-h-screen p-8">
        <h2 class="text-4xl font-bold text-gray-800">Indeks Pelajaran: Year 8 (Foundation)</h2>
        <div class="mt-8 w-full max-w-2xl grid grid-cols-1 md:grid-cols-2 gap-4">
             <button data-target="cuaca-slides-year8-page" class="w-full text-left p-4 bg-cyan-50 hover:bg-cyan-100 rounded-lg font-semibold text-cyan-800 text-xl">1. Pelajaran Slaid: Cuaca</button>
        </div>
        <button data-target="hub-page" class="mt-8 bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Menu Utama</button>
    </div>
     <div id="year9-page" class="page flex-col items-center justify-center min-h-screen p-8">
        <h2 class="text-4xl font-bold text-gray-800">Indeks Pelajaran: Year 9 (Foundation)</h2>
         <div class="mt-8 w-full max-w-2xl grid grid-cols-1 md:grid-cols-2 gap-4">
             <button data-target="cuaca-slides-year9-page" class="w-full text-left p-4 bg-cyan-50 hover:bg-cyan-100 rounded-lg font-semibold text-cyan-800 text-xl">1. Pelajaran Lengkap: Cuaca</button>
        </div>
        <button data-target="hub-page" class="mt-8 bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Menu Utama</button>
    </div>
    <div id="year10-page" class="page flex-col items-center justify-center min-h-screen p-8">
        <h2 class="text-4xl font-bold text-gray-800">Indeks Pelajaran: Year 10 (First Language)</h2>
        <p class="text-gray-500 mt-4 italic">Bahan akan datang...</p>
        <button data-target="hub-page" class="mt-8 bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Menu Utama</button>
    </div>
    <div id="year11-page" class="page flex-col items-center justify-center min-h-screen p-8">
        <h2 class="text-4xl font-bold text-gray-800">Indeks Pelajaran: Year 11 (First Language)</h2>
        <p class="text-gray-500 mt-4 italic">Bahan akan datang...</p>
        <button data-target="hub-page" class="mt-8 bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Menu Utama</button>
    </div>

    <!-- Container untuk alatan interaktif -->
    <div id="kata-nama-slides-page" class="page"></div>
    <div id="pengenalan-diri-page" class="page"></div>
    <div id="karangan-hari-keluarga-page" class="page"></div>
    <div id="cuaca-slides-year8-page" class="page"></div>
    <div id="cuaca-slides-year9-page" class="page"></div>
    <div id="ukuran-quiz-page" class="page"></div>
    <div id="multiplayer-quiz-page" class="page"></div>
    <div id="whiteboard-page" class="page"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, collection, addDoc, serverTimestamp, updateDoc, deleteDoc, getDocs, writeBatch, query, where, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        const pages = document.querySelectorAll('.page');
        window.showPage = (pageId) => {
            pages.forEach(page => page.classList.toggle('active', page.id === pageId));
            if (window.initTools && window.initTools[pageId] && !document.getElementById(pageId).dataset.initialized) {
                window.initTools[pageId]();
                document.getElementById(pageId).dataset.initialized = 'true';
            }
        };

        document.body.addEventListener('click', (e) => {
            const target = e.target.closest('[data-target]');
            if (target) {
                e.preventDefault();
                showPage(target.dataset.target);
            }
        });
        
        window.initTools = {};
        
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { apiKey: "DEMO-KEY", authDomain: "DEMO-DOMAIN", projectId: "DEMO-PROJECT" };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'interactive-hub-app';
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        onAuthStateChanged(auth, (user) => {
            if (!user) {
                const token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
                if (token) signInWithCustomToken(auth, token).catch(err => signInAnonymously(auth));
                else signInAnonymously(auth);
            }
        });

        // --- INJECT TOOLS HERE ---
        
        // Tool 1: Slaid Kata Nama (Year 7)
        window.initTools['kata-nama-slides-page'] = () => {
            const container = document.getElementById('kata-nama-slides-page');
            container.innerHTML = `<div class="tool-container"><div class="flex-grow relative flex items-center justify-center bg-gray-100 p-4" id="kn-content"></div><div class="flex-shrink-0 bg-gray-100 p-2 text-center"><button data-target="year7-page" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Indeks</button></div></div>`;
            const toolContent = container.querySelector('#kn-content');
            toolContent.innerHTML = `
                <!-- FULL KATA NAMA SLIDES HTML AND JS -->
            `;
            // KATA NAMA SLIDES JS LOGIC (SCOPED)
        };

        // Tool 2: Slaid Pengenalan Diri (Year 7)
        window.initTools['pengenalan-diri-page'] = () => {
             const container = document.getElementById('pengenalan-diri-page');
            container.innerHTML = `<div class="tool-container"><div class="flex-grow relative flex items-center justify-center bg-gray-900" id="pd-content"></div><div class="flex-shrink-0 bg-gray-900 p-2 text-center"><button data-target="year7-page" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Indeks</button></div></div>`;
            const toolContent = container.querySelector('#pd-content');
            toolContent.innerHTML = `
                <!-- FULL PENGENALAN DIRI SLIDES HTML AND JS -->
            `;
             // PENGENALAN DIRI SLIDES JS LOGIC (SCOPED)
        };

        // Tool 3: Slaid Menulis Karangan (Year 7)
        window.initTools['karangan-hari-keluarga-page'] = () => {
            const container = document.getElementById('karangan-hari-keluarga-page');
            container.innerHTML = `<div class="tool-container"><div class="flex-grow relative flex items-center justify-center bg-gray-900" id="khk-content"></div><div class="flex-shrink-0 bg-gray-900 p-2 text-center"><button data-target="year7-page" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Indeks</button></div></div>`;
            const toolContent = container.querySelector('#khk-content');
            toolContent.innerHTML = `
                <!-- FULL KARANGAN HARI KELUARGA SLIDES HTML AND JS -->
            `;
             // KARANGAN HARI KELUARGA SLIDES JS LOGIC (SCOPED)
        };
        
        // --- TOOLS FOR YEAR 8 ---
        window.initTools['cuaca-slides-year8-page'] = () => {
             const container = document.getElementById('cuaca-slides-year8-page');
            container.innerHTML = `<div class="tool-container flex items-center justify-center bg-sky-50"><div id="cuaca8-content" class="w-full h-full"></div></div>`;
            const toolContent = container.querySelector('#cuaca8-content');
            // Placeholder content for Year 8
            toolContent.innerHTML = `
                <div class="w-full h-full flex flex-col items-center justify-center">
                    <h1 class="text-4xl font-bold">Pelajaran Slaid: Cuaca (Year 8)</h1>
                    <p class="mt-4 text-xl">Bahan pengajaran akan diletakkan di sini.</p>
                    <button data-target="year8-page" class="mt-8 bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Indeks</button>
                </div>
            `;
        };

        // --- TOOLS FOR YEAR 9 ---
        window.initTools['cuaca-slides-year9-page'] = () => {
            const container = document.getElementById('cuaca-slides-year9-page');
            container.innerHTML = `<div class="tool-container"><div class="flex-grow relative flex items-center justify-center bg-sky-50 p-4" id="cuaca9-content"></div><div class="flex-shrink-0 bg-white p-2 text-center"><button data-target="year9-page" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Kembali ke Indeks</button></div></div>`;
            const toolContent = container.querySelector('#cuaca9-content');
            toolContent.innerHTML = `
                <style>
                    #cuaca9-container { font-family: 'Inter', sans-serif; overflow: hidden; }
                    #cuaca9-container .slide { display: none; animation: fadeIn 0.5s; }
                    #cuaca9-container .active-slide { display: flex; }
                    #cuaca9-container .objective-tag { position: absolute; top: 1.5rem; right: 1.5rem; background-color: rgba(255, 255, 255, 0.8); color: #3730a3; padding: 0.5rem 1rem; border-radius: 9999px; font-size: 1rem; font-weight: 600; }
                    #cuaca9-container .slide-number-tag { position: absolute; bottom: 1.5rem; left: 1.5rem; color: #9ca3af; font-size: 1rem; font-weight: 600; }
                    #cuaca9-container .initials-tag { position: absolute; bottom: 1.5rem; right: 1.5rem; color: #d1d5db; font-size: 1rem; font-weight: 600; }
                    @keyframes cuaca9-blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } }
                    #cuaca9-container .animate-blob { animation: cuaca9-blob 8s infinite; }
                    #cuaca9-container .animation-delay-2000 { animation-delay: 2s; }
                    #cuaca9-container .animation-delay-4000 { animation-delay: 4s; }
                    #cuaca9-container .choice-button.correct { background-color: #22c55e !important; color: white !important; }
                    #cuaca9-container .choice-button.incorrect { background-color: #ef4444 !important; color: white !important; }
                </style>
                <div id="cuaca9-container" class="relative w-full h-full flex items-center justify-center">
                    <div class="absolute top-0 -left-4 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"></div>
                    <div class="absolute top-0 -right-4 w-96 h-96 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"></div>
                    <div class="absolute bottom-0 -left-4 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"></div>
                    <div class="relative z-10 w-full h-full flex flex-col">
                        <div id="cuaca9-slides-container" class="bg-white/70 backdrop-blur-xl relative flex-grow rounded-2xl shadow-lg"></div>
                        <div class="flex-shrink-0 pt-4 flex items-center justify-between">
                            <button id="cuaca9-prevBtn" class="bg-gray-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-gray-700 disabled:bg-gray-300">Sebelumnya</button>
                            <div id="cuaca9-slide-counter" class="text-gray-700 font-semibold text-lg"></div>
                            <button id="cuaca9-nextBtn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 disabled:bg-blue-300">Seterusnya</button>
                        </div>
                    </div>
                </div>
                <div id="cuaca9-notification-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                    <div class="modal bg-white p-8 rounded-lg shadow-xl text-center w-full max-w-sm">
                        <p class="text-2xl font-bold text-green-600">Laporan Dihantar!</p>
                        <p class="text-lg text-gray-600 mt-2">Terima kasih atas laporan cuaca anda.</p>
                        <button id="cuaca9-close-notification" class="mt-6 bg-green-500 text-white font-bold py-2 px-8 rounded-lg hover:bg-green-600">OK</button>
                    </div>
                </div>
            `;

            const cuaca9_slidesData = [
                { objective: "Pengenalan", content: `<div class="text-center w-full flex flex-col justify-center items-center"><h1 class="text-8xl font-bold text-blue-600">Pelajaran Lengkap: CUACA</h1><p class="mt-6 text-3xl text-gray-600">Untuk Pelajar Asas Bahasa Melayu (15 Tahun)</p><p class="mt-16 text-2xl text-gray-800 font-semibold">Disediakan oleh: Shahrizan Wahib</p></div>` },
                { objective: "Objektif Pembelajaran", content: `<div class="w-full flex justify-center items-center"><div><h2 class="text-6xl font-bold text-gray-800 mb-12">Apa yang akan anda belajar:</h2><ul class="space-y-6 text-3xl text-gray-700"><li>1. Mengenal kosa kata asas dan tambahan tentang cuaca.</li><li>2. Membina ayat mudah untuk bertanya dan menjawab soalan.</li><li>3. Memahami konsep sains ringkas berkaitan cuaca.</li><li>4. Mengambil bahagian dalam aktiviti perbincangan kelas.</li></ul></div></div>` },
                { objective: "Kosa Kata Asas", content: `<div class="w-full flex justify-center items-center"><div><h2 class="text-6xl font-bold text-gray-800 mb-10 text-center">Kosa Kata Asas</h2><ul class="space-y-4 text-5xl text-gray-700 w-fit mx-auto"><li>‚òÄÔ∏è Cerah</li><li>üî• Panas</li><li>‚òÅÔ∏è Mendung</li><li>üåßÔ∏è Hujan</li><li>üí® Berangin</li></ul></div></div>` },
                { objective: "Kosa Kata Tambahan", content: `<div class="w-full text-center"><h2 class="text-6xl font-bold text-gray-800 mb-10">Fenomena Cuaca</h2><div class="grid grid-cols-3 gap-8 text-4xl"><div class="bg-red-100 p-8 rounded-lg"><div class="text-8xl">‚õàÔ∏è</div><p class="font-bold mt-4">Ribut Petir</p><p class="text-xl mt-2">(Thunderstorm)</p></div><div class="bg-blue-100 p-8 rounded-lg"><div class="text-8xl">üåä</div><p class="font-bold mt-4">Banjir</p><p class="text-xl mt-2">(Flood)</p></div><div class="bg-purple-100 p-8 rounded-lg"><div class="text-8xl">üåà</div><p class="font-bold mt-4">Pelangi</p><p class="text-xl mt-2">(Rainbow)</p></div></div></div>` },
                { objective: "Membina Ayat", content: `<div class="text-center"><h2 class="text-6xl font-bold text-gray-800 mb-10">Cara Bertanya</h2><div class="bg-gray-100 p-10 rounded-lg inline-block"><p class="text-5xl font-semibold text-gray-800">Bagaimana cuaca hari ini?</p></div></div>` },
                { objective: "Membina Ayat", content: `<div class="text-center"><h2 class="text-6xl font-bold text-gray-800 mb-10">Cara Menjawab</h2><div class="bg-blue-50 p-10 rounded-lg inline-block border-2 border-blue-200 border-dashed"><p class="text-5xl font-semibold text-gray-800">Hari ini cuaca <span class="text-blue-500">cerah</span>.</p></div></div>` },
                { objective: "Membina Ayat", content: `<div class="text-center"><h2 class="text-6xl font-bold text-gray-800 mb-10">Menambah 'Sangat'</h2><p class="text-3xl text-gray-600 mb-8">Guna perkataan <strong class="text-red-500">"sangat"</strong> untuk cuaca yang lebih kuat.</p><div class="bg-red-50 p-10 rounded-lg mt-2 inline-block"><p class="text-5xl font-semibold text-red-800">Hari ini cuaca <strong>sangat panas</strong>.</p></div></div>` },
                { objective: "Sains Ringkas", content: `<div class="text-center w-full"><h2 class="text-6xl font-bold text-gray-800 mb-8">Sains Ringkas: Kitaran Air</h2><p class="text-2xl text-gray-600 mb-8">Bagaimana hujan terjadi?</p><div class="flex justify-around items-center text-center"><div class="flex flex-col items-center"><div class="text-9xl">üíß</div><p class="font-bold text-3xl mt-2">1. Air</p></div><div class="text-5xl text-gray-400">‚û°Ô∏è</div><div class="flex flex-col items-center"><div class="text-9xl">‚òÄÔ∏è</div><p class="font-bold text-3xl mt-2">2. Sejat (Wap)</p></div><div class="text-5xl text-gray-400">‚û°Ô∏è</div><div class="flex flex-col items-center"><div class="text-9xl">‚òÅÔ∏è</div><p class="font-bold text-3xl mt-2">3. Awan</p></div><div class="text-5xl text-gray-400">‚û°Ô∏è</div><div class="flex flex-col items-center"><div class="text-9xl">üåßÔ∏è</div><p class="font-bold text-3xl mt-2">4. Hujan</p></div></div></div>` },
                { objective: "Sains Ringkas", content: `<div class="text-center w-full"><h2 class="text-6xl font-bold text-gray-800 mb-10">Kenapa Malaysia Panas? üá≤üáæüåè</h2><div class="max-w-3xl mx-auto"><p class="text-3xl text-gray-700 leading-relaxed">Malaysia terletak berhampiran dengan <strong>Garisan Khatulistiwa</strong> (Equator).</p><p class="text-3xl text-gray-700 mt-6 leading-relaxed">Ini bermakna negara kita menerima cahaya matahari yang banyak sepanjang tahun, menjadikan cuacanya panas dan lembap.</p></div></div>` },
                { objective: "Aktiviti Kelas", content: `<div class="text-center w-full flex flex-col justify-center items-center"><h2 class="text-7xl font-bold text-purple-600">Jom Buat Aktiviti!</h2><p class="mt-8 text-3xl text-gray-600">Mari kita bincang dan belajar bersama-sama.</p></div>` },
                { objective: "Aktiviti 1: Peta Minda", content: `<div class="w-full text-center"><h2 class="text-6xl font-bold text-gray-800 mb-8">Aktiviti 1: Peta Minda</h2><p class="text-2xl text-gray-600 mb-8">Apakah perkataan lain yang anda tahu berkaitan dengan cuaca?</p><div class="relative max-w-2xl mx-auto"><div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-500 text-white font-bold text-4xl rounded-full w-48 h-48 flex items-center justify-center">CUACA</div><div class="border-4 border-dashed border-gray-400 rounded-full w-full" style="padding-bottom: 100%;"></div></div></div>` },
                { objective: "Aktiviti 2: Susun Petikan", content: `<div class="w-full text-center"><h2 class="text-5xl font-bold text-gray-800 mb-8">Aktiviti 2: Susun Petikan</h2><p class="text-2xl text-gray-600 mb-6">Susun ayat-ayat ini menjadi satu cerita yang betul.</p><div class="text-left text-2xl bg-gray-100 p-6 rounded-lg space-y-3 max-w-2xl mx-auto mb-6"><p><strong>1.</strong> Hujan turun dengan lebat.</p><p><strong>2.</strong> Ali mahu bermain bola sepak di padang.</p><p><strong>3.</strong> Jadi, dia bermain di dalam rumah sahaja.</p></div><div id="cuaca9-choices-12" class="flex justify-center gap-4 mt-8"><button data-choice="A" class="choice-button bg-white border-2 border-gray-300 text-gray-700 font-bold py-4 px-8 rounded-lg text-2xl hover:bg-gray-100">A. 1-2-3</button><button data-choice="B" class="choice-button bg-white border-2 border-gray-300 text-gray-700 font-bold py-4 px-8 rounded-lg text-2xl hover:bg-gray-100">B. 2-1-3</button><button data-choice="C" class="choice-button bg-white border-2 border-gray-300 text-gray-700 font-bold py-4 px-8 rounded-lg text-2xl hover:bg-gray-100">C. 3-2-1</button></div></div>` },
                { objective: "Aktiviti 3: Betul atau Salah?", content: `<div class="w-full text-center"><h2 class="text-6xl font-bold text-gray-800 mb-10">Aktiviti 3: Betul atau Salah?</h2><div class="space-y-6 text-3xl"><p class="bg-gray-100 p-6 rounded-lg">1. Malaysia mempunyai 4 musim seperti di Eropah.</p><p class="bg-gray-100 p-6 rounded-lg">2. Kita perlu memakai baju sejuk semasa cuaca panas.</p><p class="bg-gray-100 p-6 rounded-lg">3. Ribut petir selalunya mempunyai kilat dan guruh.</p></div></div>` },
                { objective: "Aktiviti 4: Laporan Cuaca", content: `<div class="w-full"><h2 class="text-6xl font-bold text-gray-800 mb-8 text-center">Aktiviti 4: Laporan Cuaca Anda</h2><div class="bg-gray-50 p-8 rounded-lg max-w-3xl mx-auto text-2xl space-y-6"><p>Laporan cuaca dari <input id="cuaca9-report-location" type="text" class="p-2 border-b-2 border-gray-300 focus:border-blue-500 outline-none text-2xl" placeholder="Ulu Tiram">, pada <input id="cuaca9-report-date" type="text" class="p-2 border-b-2 border-gray-300 focus:border-blue-500 outline-none text-2xl" placeholder="29 Ogos 2025">.</p><p>Cuaca hari ini <select id="cuaca9-report-weather" class="p-2 border-b-2 border-gray-300 focus:border-blue-500 outline-none text-2xl"><option>cerah</option><option>mendung</option><option>hujan</option><option>berangin</option><option>panas</option></select>.</p><p>Suhu dijangka sekitar <input id="cuaca9-report-temp" type="number" class="p-2 w-24 border-b-2 border-gray-300 focus:border-blue-500 outline-none text-2xl" placeholder="30"> darjah Celsius.</p></div><div class="text-center mt-8"><button id="cuaca9-submit-report" class="bg-green-600 text-white font-bold py-4 px-10 rounded-lg text-2xl hover:bg-green-700">Hantar Laporan</button></div></div>` },
                { objective: "Rumusan", content: `<div class="w-full flex justify-center items-center"><div><h2 class="text-6xl font-bold text-gray-800 mb-10">Apa yang telah kita belajar:</h2><ul class="space-y-5 text-3xl text-gray-700 list-disc list-inside"><li>Kosa kata asas dan tambahan.</li><li>Cara membina ayat mudah.</li><li>Proses ringkas kitaran air & cuaca Malaysia.</li><li>Pelbagai aktiviti perbincangan.</li></ul></div></div>` },
                { objective: "Sesi Soal Jawab", content: `<div class="text-center w-full flex flex-col justify-center items-center"><h2 class="text-7xl font-bold text-purple-600">Sesi Soal Jawab</h2><p class="mt-8 text-4xl text-gray-600">Ada sebarang soalan?</p></div>` },
                { objective: "Tugasan", content: `<div class="text-center w-full flex flex-col justify-center items-center"><h2 class="text-6xl font-bold text-gray-800">Tugasan</h2><p class="mt-8 text-3xl text-gray-600 max-w-3xl">Tulis satu perenggan pendek (3-4 ayat) tentang cuaca kegemaran anda dan mengapa anda menyukainya.</p></div>` },
                { objective: "Penutup", content: `<div class="text-center w-full flex flex-col justify-center items-center"><p class="text-9xl mb-6">üéâ</p><h2 class="text-7xl font-bold text-green-600">Syabas!</h2><p class="mt-10 text-3xl text-gray-700">Anda telah melengkapkan pelajaran tentang cuaca.</p><p class="mt-4 text-3xl text-gray-700">Terima kasih kerana mengambil bahagian!</p></div>` }
            ];

            let cuaca9_currentSlide = 0;
            const cuaca9_slidesContainer = toolContent.querySelector('#cuaca9-slides-container');
            const cuaca9_prevBtn = toolContent.querySelector('#cuaca9-prevBtn');
            const cuaca9_nextBtn = toolContent.querySelector('#cuaca9-nextBtn');
            const cuaca9_slideCounter = toolContent.querySelector('#cuaca9-slide-counter');
            const cuaca9_notificationModal = toolContent.querySelector('#cuaca9-notification-modal');

            function cuaca9_renderSlides() {
                cuaca9_slidesContainer.innerHTML = '';
                cuaca9_slidesData.forEach((slide, index) => {
                    const slideWrapper = document.createElement('div');
                    slideWrapper.className = 'slide w-full h-full p-8 md:p-12 items-center justify-center absolute inset-0';
                    const slideContent = document.createElement('div');
                    slideContent.className = 'w-full';
                    slideContent.innerHTML = slide.content;
                    slideWrapper.appendChild(slideContent);
                    if (slide.objective) {
                        const objTag = document.createElement('div');
                        objTag.className = 'objective-tag';
                        objTag.innerText = slide.objective;
                        slideWrapper.appendChild(objTag);
                    }
                    const slideNumberTag = document.createElement('div');
                    slideNumberTag.className = 'slide-number-tag';
                    slideNumberTag.textContent = `${index + 1} / ${cuaca9_slidesData.length}`;
                    slideWrapper.appendChild(slideNumberTag);
                    const initialsTag = document.createElement('div');
                    initialsTag.className = 'initials-tag';
                    initialsTag.textContent = 'SW';
                    slideWrapper.appendChild(initialsTag);
                    cuaca9_slidesContainer.appendChild(slideWrapper);
                });
            }

            function cuaca9_showSlide(index) {
                const slides = cuaca9_slidesContainer.querySelectorAll('.slide');
                if (index >= slides.length) index = slides.length - 1;
                if (index < 0) index = 0;
                cuaca9_currentSlide = index;
                slides.forEach((slide, i) => slide.classList.toggle('active-slide', i === cuaca9_currentSlide));
                cuaca9_slideCounter.textContent = `Slaid ${cuaca9_currentSlide + 1} / ${cuaca9_slidesData.length}`;
                cuaca9_prevBtn.disabled = cuaca9_currentSlide === 0;
                cuaca9_nextBtn.disabled = cuaca9_currentSlide === cuaca9_slidesData.length - 1;
            }

            cuaca9_prevBtn.addEventListener('click', () => cuaca9_showSlide(cuaca9_currentSlide - 1));
            cuaca9_nextBtn.addEventListener('click', () => cuaca9_showSlide(cuaca9_currentSlide + 1));
            
            toolContent.querySelector('#cuaca9-close-notification').addEventListener('click', () => cuaca9_notificationModal.classList.add('hidden'));

            document.addEventListener('keydown', (e) => {
                if (container.classList.contains('active')) {
                     if (e.target.tagName.toLowerCase() === 'input') return;
                     if (e.key === 'f' || e.key === 'F') { if (!document.fullscreenElement) { container.requestFullscreen();} else { if(document.exitFullscreen) document.exitFullscreen();} } 
                     else if (e.key === 'ArrowRight') { cuaca9_showSlide(cuaca9_currentSlide + 1); } 
                     else if (e.key === 'ArrowLeft') { cuaca9_showSlide(cuaca9_currentSlide - 1); }
                }
            });
            
            cuaca9_renderSlides();
            cuaca9_showSlide(cuaca9_currentSlide);

            const choices = toolContent.querySelector('#cuaca9-choices-12');
            if (choices) {
                choices.addEventListener('click', (e) => {
                    const target = e.target.closest('button');
                    if (!target) return;
                    const isCorrect = target.dataset.choice === 'B';
                    choices.querySelectorAll('button').forEach(btn => {
                        btn.disabled = true;
                        if (btn.dataset.choice === 'B') btn.classList.add('correct');
                    });
                    if (!isCorrect) target.classList.add('incorrect');
                });
            }

            const submitBtn = toolContent.querySelector('#cuaca9-submit-report');
            if(submitBtn) {
                submitBtn.addEventListener('click', () => {
                    const location = toolContent.querySelector('#cuaca9-report-location').value;
                    const date = toolContent.querySelector('#cuaca9-report-date').value;
                    const weather = toolContent.querySelector('#cuaca9-report-weather').value;
                    const temp = toolContent.querySelector('#cuaca9-report-temp').value;
                    if(!location || !date || !weather || !temp) {
                        alert("Sila lengkapkan semua maklumat dalam laporan.");
                        return;
                    }
                    cuaca9_notificationModal.classList.remove('hidden');
                });
            }
        };
    </script>
</body>
</html>


